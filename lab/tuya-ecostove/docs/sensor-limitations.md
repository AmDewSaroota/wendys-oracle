# MT15/MT29 Sensor - ข้อจำกัดและทางเลือก

> เอกสารสรุปข้อจำกัดของ Tuya Air Quality Sensor สำหรับโปรเจค EcoStove
>
> สร้าง: 2026-01-25
> อัปเดต: 2026-01-25

---

## สรุปผู้บริหาร (Executive Summary)

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  ⚠️ ข้อจำกัดหลัก: ไม่มี Offline Data Logging               │
│                                                             │
│  Sensor ต้องเชื่อมต่อ WiFi ตลอดเวลาที่ต้องการเก็บข้อมูล    │
│  ถ้าไม่มี WiFi → ข้อมูลหายไปถาวร                           │
│                                                             │
│  ผลกระทบ: ต้องมี WiFi ที่บ้านกลุ่มตัวอย่างทุกหลัง          │
│  หรือต้องมีคนเฝ้าตลอดเวลาที่วัด (ไม่ต่างจากจดมือ)          │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 1. ข้อมูลเครื่อง

### รุ่นที่ใช้
- **MT15**: ใช้ Infrared + Laser sensor (แม่นยำกว่า, แพงกว่า)
- **MT29**: ใช้ Infrared + Semiconductor sensor (ประหยัดกว่า)

### วัดค่าได้
| พารามิเตอร์ | หน่วย | DPS |
|------------|-------|-----|
| PM2.5 | µg/m³ | 7 |
| PM10 | µg/m³ | 9 |
| PM1.0 | µg/m³ | 8 |
| CO2 | ppm | 4 |
| HCHO (Formaldehyde) | mg/m³ | 5 |
| Temperature | °C | 2 |
| Humidity | % | 3 |
| AQI | Index | 1 |
| Battery | % | 22 |

### การเชื่อมต่อ
- WiFi 2.4 GHz เท่านั้น (ไม่รองรับ 5 GHz)
- Tuya Protocol (Local API) หรือ Tuya Cloud

---

## 2. ข้อจำกัดหลัก

### 2.1 ไม่มี Offline Data Logging ❌

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  ปัญหา:                                                     │
│  • Sensor ไม่มี memory สำหรับเก็บข้อมูล                     │
│  • ไม่มี SD Card slot                                       │
│  • ข้อมูลส่งไป Cloud แบบ real-time เท่านั้น                │
│                                                             │
│  ผลกระทบ:                                                   │
│  • ถ้าไม่มี WiFi → ข้อมูลหาย                               │
│  • ถ้า WiFi หลุด → ข้อมูลช่วงนั้นหาย                       │
│  • ไม่สามารถ sync ข้อมูลย้อนหลังได้                        │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 2.2 ต้องพึ่งพา Tuya Cloud

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  Tuya Cloud API Limits (Trial Edition):                     │
│                                                             │
│  • API Calls: 26,000 ครั้ง/เดือน                           │
│  • Messages: 68,000 ข้อความ/เดือน                          │
│  • Devices: สูงสุด 50 เครื่อง                               │
│  • ❌ ห้ามใช้เชิงพาณิชย์/วิจัย                              │
│  • ❌ เกิน quota = ระงับบริการทันที                         │
│                                                             │
│  Flagship Edition: ~$25,000/ปี (ถ้าต้องการใช้จริงจัง)      │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 2.3 WiFi 2.4 GHz เท่านั้น

- Router บางรุ่นแยก 2.4/5 GHz → ต้องตั้งค่าให้ถูก
- บางบ้านใช้ 5 GHz เป็นหลัก → เชื่อมไม่ได้

### 2.4 ความแม่นยำ (MT29)

- MT29 ใช้ semiconductor sensor สำหรับ CO2, TVOC
- ให้ค่า "ประมาณ" ไม่ใช่ค่าที่แม่นยำมาก
- เหมาะสำหรับดูแนวโน้ม ไม่ใช่ค่าสัมบูรณ์

---

## 3. ทำไมอาจไม่เหมาะกับโปรเจค EcoStove

### สถานการณ์โปรเจค
- บ้านกลุ่มตัวอย่างกระจายใน 9 จังหวัด
- หลายบ้านไม่มี WiFi
- ต้องการเก็บข้อมูลต่อเนื่อง (ก่อน-ระหว่าง-หลัง ทำอาหาร)
- เป็นงานวิจัย (อาจขัด TOS ของ Tuya Trial)

### ปัญหาที่เจอ

| ปัญหา | ผลกระทบ |
|-------|---------|
| ไม่มี WiFi ที่บ้าน | ไม่สามารถเก็บข้อมูลอัตโนมัติได้ |
| ต้องใช้ Hotspot | ต้องมีคนเฝ้าตลอด = ไม่ต่างจากจดมือ |
| Tuya Trial limit | อาจถูกระงับบริการกลางโปรเจค |
| ห้ามใช้เชิงพาณิชย์ | งานวิจัยอาจขัด TOS |

---

## 4. ถ้าจะใช้จริง - ทางเลือกและค่าใช้จ่าย

### ทางเลือก A: ใช้เฉพาะบ้านที่มี WiFi อยู่แล้ว

```
ค่าใช้จ่าย: 0 บาท

ข้อดี:
✅ ไม่มีค่าใช้จ่ายเพิ่ม
✅ ข้อมูลต่อเนื่องอัตโนมัติ

ข้อเสีย:
❌ ได้กลุ่มตัวอย่างน้อยลง
❌ อาจ bias (บ้านที่มี WiFi อาจต่างจากบ้านไม่มี)
```

---

### ทางเลือก B: ติด 4G Router ที่ทุกบ้าน

```
┌─────────────────────────────────────────────────────────────┐
│  อุปกรณ์ต่อบ้าน                                             │
│                                                             │
│  📶 4G Router (TP-Link TL-MR6400)     ~1,500-2,500 บาท     │
│  📱 SIM 4G (ค่าเน็ต)                  ~200-300 บาท/เดือน   │
│                                                             │
└─────────────────────────────────────────────────────────────┘

ตัวอย่างค่าใช้จ่าย (30 บ้านไม่มี WiFi):

ค่าอุปกรณ์ (ครั้งเดียว):
  30 × 2,000 = 60,000 บาท

ค่าเน็ตรายเดือน:
  30 × 250 = 7,500 บาท/เดือน

ถ้าเก็บข้อมูล 6 เดือน:
  60,000 + (7,500 × 6) = 105,000 บาท

ข้อดี:
✅ ข้อมูลต่อเนื่อง 24 ชม.
✅ ไม่ต้องมีคนเฝ้า
✅ ได้ข้อมูลครบทุกบ้าน

ข้อเสีย:
❌ ค่าใช้จ่ายสูง
❌ ต้องดูแลอุปกรณ์เพิ่ม
```

---

### ทางเลือก C: Hybrid (WiFi + Hotspot + จดมือ)

```
บ้านที่มี WiFi:     → ใช้ Cloud API ปกติ (ฟรี)
บ้านที่ไม่มี WiFi:  → อาสาไปวัดด้วย Hotspot หรือจดมือ

ค่าใช้จ่าย: ~0 บาท (ใช้ทรัพยากรที่มี)

ข้อดี:
✅ ประหยัด
✅ ยืดหยุ่น

ข้อเสีย:
❌ ข้อมูลไม่ต่อเนื่อง (บ้านไม่มี WiFi)
❌ ต้องใช้แรงงานอาสา
❌ คุณภาพข้อมูลไม่เท่ากัน
```

---

### ทางเลือก D: เปลี่ยน Sensor

```
ใช้ Sensor ที่มี Offline Data Logging เช่น:
• Sensor ที่มี SD Card
• Sensor ที่มี internal memory
• Data Logger แยกต่างหาก

ข้อดี:
✅ แก้ปัญหาได้ตรงจุด
✅ ไม่ต้องพึ่ง WiFi

ข้อเสีย:
❌ ต้องซื้อใหม่
❌ ต้อง research หาเครื่องที่เหมาะ
❌ อาจแพงกว่า
```

---

### ทางเลือก E: ติด Raspberry Pi เป็น Local Logger

```
┌─────────────────────────────────────────────────────────────┐
│  ติด Pi ที่บ้าน ดึงค่าจาก Sensor ทุก 5 นาที                │
│                                                             │
│  📡 Sensor ←─ Local API ─→ 🍓 Raspberry Pi                 │
│                              │                              │
│                              ▼                              │
│                         💾 เก็บไว้ใน Pi                     │
│                              │                              │
│                              ▼ (เมื่อมี Internet)           │
│                         ☁️ Supabase                         │
│                                                             │
└─────────────────────────────────────────────────────────────┘

ค่าใช้จ่ายต่อบ้าน:
  Raspberry Pi Zero W     ~500-800 บาท
  SD Card 16GB            ~150 บาท
  Power Supply            ~200 บาท
  รวม                     ~850-1,150 บาท

30 บ้าน = ~30,000 บาท (ครั้งเดียว)

ข้อดี:
✅ ข้อมูลเก็บ local ได้
✅ ไม่ต้องพึ่ง Tuya Cloud (ไม่มี rate limit)
✅ Sync เมื่อมี Internet ได้

ข้อเสีย:
❌ ต้อง setup/ดูแล Pi ทุกบ้าน
❌ ซับซ้อนกว่า
❌ ต้องมีคนดูแลเทคนิค
```

---

## 5. ตารางเปรียบเทียบ

| ทางเลือก | ค่าใช้จ่าย (30 บ้าน, 6 เดือน) | ข้อมูลต่อเนื่อง | ต้องเฝ้า | ความยาก |
|----------|------------------------------|----------------|---------|---------|
| **A: เฉพาะบ้านมี WiFi** | 0 บาท | ✅ (เฉพาะบางบ้าน) | ❌ | ง่าย |
| **B: ติด 4G Router** | ~105,000 บาท | ✅ ทุกบ้าน | ❌ | ง่าย |
| **C: Hybrid** | ~0 บาท | ⚠️ บางส่วน | ⚠️ บางบ้าน | ปานกลาง |
| **D: เปลี่ยน Sensor** | ต้อง research | ✅ | ❌ | ปานกลาง |
| **E: Raspberry Pi** | ~30,000 บาท | ✅ | ❌ | ยาก |

---

## 6. คำแนะนำ

### ถ้างบจำกัด
→ **ทางเลือก A หรือ C**: ใช้บ้านที่มี WiFi + Hybrid

### ถ้ามีงบปานกลาง
→ **ทางเลือก E**: Raspberry Pi (ลงทุนครั้งเดียว ~30,000 บาท)

### ถ้ามีงบเพียงพอ
→ **ทางเลือก B**: 4G Router ทุกบ้าน (ง่ายที่สุด แต่มีค่าเน็ตรายเดือน)

### ถ้าต้องการความแม่นยำสูง
→ **ทางเลือก D**: Research หา Sensor ที่เหมาะกว่า

---

## 7. คำถามสำหรับ อ.แก้ว

1. **งบประมาณโปรเจค** มีเท่าไหร่?
2. **จำนวนบ้านกลุ่มตัวอย่าง** กี่บ้าน? กี่บ้านมี WiFi?
3. **ระยะเวลาเก็บข้อมูล** นานแค่ไหน?
4. **ต้องการข้อมูลต่อเนื่อง** หรือแค่ snapshot ก็พอ?
5. **มีทีม IT** ดูแลระบบหรือไม่?

---

## 8. สรุป

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  MT15/MT29 Sensor:                                          │
│                                                             │
│  ✅ ดี: วัดค่าได้ครบ, ราคาไม่แพง, ใช้งานง่าย               │
│                                                             │
│  ❌ ไม่ดี: ไม่มี offline storage, ต้องพึ่ง WiFi/Cloud       │
│                                                             │
│  💡 ถ้าจะใช้: ต้องมี WiFi ถาวรที่ทุกบ้าน                   │
│     หรือยอมรับว่าข้อมูลจะไม่ต่อเนื่อง                       │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

*เอกสารนี้สร้างโดย WEnDyS Oracle*
*สำหรับประกอบการตัดสินใจโปรเจค EcoStove*
