# Smart Rail â€” System Architecture

**Updated:** 2026-02-10
**By:** WEnDyS for DewS

---

## 1. à¸ à¸²à¸à¸£à¸§à¸¡à¸—à¸±à¹‰à¸‡à¸£à¸°à¸šà¸š (Full System Overview)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                         â”‚
â”‚                         CORE DASHBOARD                                  â”‚
â”‚                     (à¸¨à¸¹à¸™à¸¢à¹Œà¸£à¸§à¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸±à¹‰à¸‡à¸£à¸°à¸šà¸š)                              â”‚
â”‚                                                                         â”‚
â”‚   â€¢ à¸ à¸²à¸à¸£à¸§à¸¡à¸—à¸¸à¸à¸£à¸°à¸šà¸š (One-Page View)                                       â”‚
â”‚   â€¢ IoT Analytics                                                       â”‚
â”‚   â€¢ Kiosk Status                                                        â”‚
â”‚   â€¢ App Usage                                                           â”‚
â”‚   â€¢ Space Occupancy                                                     â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                      â”‚                      â”‚
             â–¼                      â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    â”‚ â”‚                    â”‚ â”‚                        â”‚
â”‚   KIOSK SYSTEM     â”‚ â”‚   MOBILE APP       â”‚ â”‚   SPACE MANAGEMENT     â”‚
â”‚   (à¸£à¸°à¸šà¸šà¸„à¸µà¸­à¸­à¸ª)       â”‚ â”‚   (à¹à¸­à¸›à¸¡à¸·à¸­à¸–à¸·à¸­)       â”‚ â”‚   (à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸·à¹‰à¸™à¸—à¸µà¹ˆ)    â”‚
â”‚                    â”‚ â”‚                    â”‚ â”‚                        â”‚
â”‚  ğŸ¤– AI Character   â”‚ â”‚  ğŸ“± User App       â”‚ â”‚  ğŸª Booth Booking      â”‚
â”‚  ğŸ—£ï¸ Voice (4 à¸ à¸²à¸©à¸²) â”‚ â”‚  ğŸ“ Navigation     â”‚ â”‚  ğŸ“‹ Contract Mgmt     â”‚
â”‚  ğŸ—ºï¸ Tourism Info   â”‚ â”‚  ğŸ”” Notification   â”‚ â”‚  âœ… Approval System    â”‚
â”‚  ğŸš‚ Route Finder   â”‚ â”‚  â­ Favorites      â”‚ â”‚  ğŸ“Š Revenue Report     â”‚
â”‚  â“ FAQ            â”‚ â”‚                    â”‚ â”‚                        â”‚
â”‚                    â”‚ â”‚                    â”‚ â”‚                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                      â”‚                          â”‚
         â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
         â–¼    â–¼                                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      â”‚                    â”‚                          â”‚
â”‚    BACKEND A         â”‚                    â”‚    BACKEND B             â”‚
â”‚    (à¸—à¸µà¸¡à¹€à¸£à¸²)           â”‚                    â”‚    (à¸—à¸µà¸¡à¸­à¸·à¹ˆà¸™)              â”‚
â”‚                      â”‚                    â”‚                          â”‚
â”‚  â€¢ Kiosk API         â”‚                    â”‚  â€¢ Space Booking API     â”‚
â”‚  â€¢ App API           â”‚                    â”‚  â€¢ Contract API          â”‚
â”‚  â€¢ Admin API         â”‚                    â”‚  â€¢ Payment API           â”‚
â”‚  â€¢ AI/LLM Engine     â”‚                    â”‚  â€¢ Vendor Portal API     â”‚
â”‚  â€¢ Voice Engine      â”‚                    â”‚                          â”‚
â”‚  (STT/TTS)           â”‚                    â”‚  Tech:                   â”‚
â”‚                      â”‚                    â”‚  â€¢ Node.js (Express)     â”‚
â”‚  Tech:               â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚  â€¢ PostgreSQL            â”‚
â”‚  â€¢ Node.js           â”‚   Shared Data API  â”‚  â€¢ MinIO (file storage)  â”‚
â”‚  â€¢ PostgreSQL        â”‚   (IoT + Analytics)â”‚  â€¢ NGINX                 â”‚
â”‚  â€¢ Redis (real-time) â”‚                    â”‚                          â”‚
â”‚                      â”‚                    â”‚                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                                               â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                               â”‚
              â”‚   INTELLIGENT DATA INPUT      â”‚
              â”‚   (IoT & Analytics)           â”‚
              â”‚                               â”‚
              â”‚  ğŸ“¡ Live Density Track        â”‚
              â”‚  ğŸŒ¡ï¸ Environment Sensors       â”‚
              â”‚  ğŸ“Š Usage Statistics          â”‚
              â”‚  ğŸ‘¥ Visitor Counter           â”‚
              â”‚                               â”‚
              â”‚  à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸›à¸—à¸±à¹‰à¸‡:              â”‚
              â”‚  â†’ Core Dashboard             â”‚
              â”‚  â†’ Space Management           â”‚
              â”‚  â†’ Kiosk/App (real-time)      â”‚
              â”‚                               â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. à¹à¸šà¹ˆà¸‡à¸—à¸µà¸¡à¸£à¸±à¸šà¸œà¸´à¸”à¸Šà¸­à¸š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚   â­ à¸—à¸µà¸¡à¹€à¸£à¸² (NDF DEV)                                          â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                             â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚  KIOSK   â”‚  â”‚   APP    â”‚  â”‚  ADMIN   â”‚  â”‚ BACKEND  â”‚      â”‚
â”‚   â”‚  SYSTEM  â”‚  â”‚  MOBILE  â”‚  â”‚  PORTAL  â”‚  â”‚    A     â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                 â”‚
â”‚   + Core Dashboard (integrate data from all systems)            â”‚
â”‚   + IoT Data Input (à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸«à¹‰à¸—à¸¸à¸à¸à¸±à¹ˆà¸‡)                        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚   ğŸ‘¥ à¸—à¸µà¸¡à¸­à¸·à¹ˆà¸™                                                    â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                    â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚   â”‚   SPACE MANAGEMENT   â”‚  â”‚ BACKEND  â”‚                       â”‚
â”‚   â”‚   (Booth/Event/      â”‚  â”‚    B     â”‚                       â”‚
â”‚   â”‚    Contract/Payment) â”‚  â”‚          â”‚                       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Data Flow â€” à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸«à¸¥à¸¢à¸±à¸‡à¹„à¸‡

```
                    IoT Sensors (à¹ƒà¸™à¸ªà¸–à¸²à¸™à¸µ)
                         â”‚
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Intelligent Data    â”‚
              â”‚ Input Layer         â”‚
              â”‚ (collect + process) â”‚
              â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”˜
                 â”‚          â”‚   â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                   â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Core         â”‚  â”‚ Backend A    â”‚  â”‚ Backend B    â”‚
â”‚ Dashboard    â”‚  â”‚ (à¸—à¸µà¸¡à¹€à¸£à¸²)     â”‚  â”‚ (à¸—à¸µà¸¡à¸­à¸·à¹ˆà¸™)    â”‚
â”‚              â”‚  â”‚              â”‚  â”‚              â”‚
â”‚ à¸”à¸¹à¸ à¸²à¸à¸£à¸§à¸¡     â”‚  â”‚ à¸ªà¹ˆà¸‡à¹ƒà¸«à¹‰ Kiosk  â”‚  â”‚ à¸ªà¹ˆà¸‡à¹ƒà¸«à¹‰ Space â”‚
â”‚ à¸—à¸¸à¸à¸£à¸°à¸šà¸š      â”‚  â”‚ + App        â”‚  â”‚ Management   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼                     â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  KIOSK   â”‚          â”‚   APP    â”‚
        â”‚ (à¸ªà¸–à¸²à¸™à¸µ)   â”‚          â”‚ (à¸¡à¸·à¸­à¸–à¸·à¸­)  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Backend A vs B â€” à¹à¸¢à¸à¸­à¸°à¹„à¸£à¸šà¹‰à¸²à¸‡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Backend A (à¸—à¸µà¸¡à¹€à¸£à¸²) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                      â”‚
â”‚  /api/kiosk/*        â†’ Kiosk data, AI responses     â”‚
â”‚  /api/app/*          â†’ Mobile app endpoints         â”‚
â”‚  /api/admin/*        â†’ Admin portal management      â”‚
â”‚  /api/ai/*           â†’ LLM, NLP, FAQ engine         â”‚
â”‚  /api/voice/*        â†’ STT, TTS processing          â”‚
â”‚  /api/iot/*          â†’ IoT data ingestion           â”‚
â”‚  /api/analytics/*    â†’ Usage statistics             â”‚
â”‚                                                      â”‚
â”‚  Database A: Kiosk, App, AI, IoT data               â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
              Shared Data API (IoT + Analytics)
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                      â”‚
â”‚  /api/spaces/*       â†’ Space/Booth listing          â”‚
â”‚  /api/booking/*      â†’ Booking flow                 â”‚
â”‚  /api/contracts/*    â†’ Contract generation (PDF)    â”‚
â”‚  /api/payments/*     â†’ Payment processing           â”‚
â”‚  /api/vendors/*      â†’ Vendor registration          â”‚
â”‚  /api/approval/*     â†’ Admin approval flow          â”‚
â”‚  /api/reports/*      â†’ Revenue reports              â”‚
â”‚                                                      â”‚
â”‚  Database B: Spaces, Bookings, Contracts, Payments  â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Backend B (à¸—à¸µà¸¡à¸­à¸·à¹ˆà¸™) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. à¸ˆà¸¸à¸”à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡ 2 Backend (Integration Points)

```
Backend A                              Backend B
â”€â”€â”€â”€â”€â”€â”€â”€â”€                              â”€â”€â”€â”€â”€â”€â”€â”€â”€

IoT Data â”€â”€â”€â”€â”€â”€â”€ Shared API â”€â”€â”€â”€â”€â”€â–º Space Dashboard
(density, visitor count)              (à¸”à¸¹à¸ˆà¸³à¸™à¸§à¸™à¸„à¸™à¹ƒà¸™à¸à¸·à¹‰à¸™à¸—à¸µà¹ˆ)

Kiosk â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Store Data â”€â”€â”€â”€â”€â”€â”€â”€ Store Management
(à¹à¸ªà¸”à¸‡à¸£à¹‰à¸²à¸™à¸„à¹‰à¸²)                          (à¹€à¸›à¸´à¸”/à¸›à¸´à¸”à¸£à¹‰à¸²à¸™)

Core Dashboard â—„â”€â”€ Reports â”€â”€â”€â”€â”€â”€â”€â”€ Revenue Data
(à¸ à¸²à¸à¸£à¸§à¸¡)                              (à¸£à¸²à¸¢à¹„à¸”à¹‰à¸à¸·à¹‰à¸™à¸—à¸µà¹ˆ)

App â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Event Data â”€â”€â”€â”€â”€â”€â”€â”€ Event Management
(à¹à¸ªà¸”à¸‡ Event)                           (à¸ªà¸£à¹‰à¸²à¸‡ Event)
```

### à¸‚à¹‰à¸­à¸•à¸à¸¥à¸‡à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸—à¸³à¸£à¹ˆà¸§à¸¡à¸à¸±à¸™

| à¸£à¸²à¸¢à¸à¸²à¸£ | à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸” |
|--------|-----------|
| API Contract | à¸à¸³à¸«à¸™à¸” endpoint + format à¸£à¹ˆà¸§à¸¡à¸à¸±à¸™ |
| Auth | à¹ƒà¸Šà¹‰à¸£à¸°à¸šà¸š auth à¸à¸¥à¸²à¸‡ à¸«à¸£à¸·à¸­ token exchange |
| Data Format | à¸•à¸à¸¥à¸‡ JSON schema à¸—à¸µà¹ˆ share à¸à¸±à¸™ |
| IoT Data | à¸à¸³à¸«à¸™à¸”à¸§à¹ˆà¸²à¹ƒà¸„à¸£à¹€à¸›à¹‡à¸™ source of truth |

---

*Created by WEnDyS â€” 2026-02-10*
