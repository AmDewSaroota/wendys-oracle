# Handoff: Sensor Options Deep Dive

**Date**: 2026-01-26 19:15
**Context**: 95%

---

## What We Did

### 1. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Tuya API ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
- ‡πÑ‡∏î‡πâ credentials ‡∏à‡∏≤‡∏Å DewS (Access ID, Secret, Project Code)
- ‡∏£‡∏±‡∏ô `fetch_air_quality.js` ‚Üí ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ
- ‡∏£‡∏±‡∏ô `sync_to_supabase.js` ‚Üí ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á DB ‡πÑ‡∏î‡πâ (ID: 1-2)

### 2. ‡∏£‡∏±‡∏ô Auto-Sync 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á
- ‡∏™‡∏£‡πâ‡∏≤‡∏á `auto_sync_1hour.js` (sync ‡∏ó‡∏∏‡∏Å 5 ‡∏ô‡∏≤‡∏ó‡∏µ x 12 ‡∏£‡∏≠‡∏ö)
- ‡∏£‡∏±‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à 17:23-18:18 ‚Üí ‡πÑ‡∏î‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• 12 records (ID: 3-14)
- ‡∏Ñ‡πà‡∏≤ PM2.5 = 14-15, CO2 = 437-487

### 3. ‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Sensor Calibration
- ‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö SNDWAY SW-825:
  - Temp: ZN-MT29 ‡∏≠‡πà‡∏≤‡∏ô 36¬∞C vs SNDWAY 24.7¬∞C (‡πÄ‡∏û‡∏µ‡πâ‡∏¢‡∏ô 11¬∞C)
  - Humidity: ZN-MT29 ‡∏≠‡πà‡∏≤‡∏ô 21% vs SNDWAY 52% (‡πÄ‡∏û‡∏µ‡πâ‡∏¢‡∏ô 31%)
- CO2 ‡∏´‡∏•‡∏±‡∏á calibrate ‡∏•‡∏î‡∏à‡∏≤‡∏Å 3000+ ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ~440
- PM2.5 ‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á‡∏Å‡∏±‡∏ô (15 vs 24)

### 4. ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Research

| ‡∏ó‡∏≤‡∏á | ‡∏ß‡∏¥‡∏ò‡∏µ | ‡∏á‡∏ö | ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ/‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢ |
|-----|------|-----|--------------|
| 1 | Tuya Cloud + Server | ‡∏ï‡πà‡∏≥ | API limit 26K/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô, ‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏•‡∏≤‡∏¢ account |
| 2 | Sensor ‡∏°‡∏µ Memory | ‡∏™‡∏π‡∏á (~1M) | ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ WiFi |
| 3 | **Pi + Local API** | ‡∏Å‡∏•‡∏≤‡∏á (~200K) | ‡πÑ‡∏°‡πà‡∏°‡∏µ limit, offline ‡πÑ‡∏î‡πâ |
| 4 | ‡∏à‡∏î‡∏°‡∏∑‡∏≠ | ‡∏ï‡πà‡∏≥ | human error ‡∏™‡∏π‡∏á |
| 5 | ‡∏•‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ö‡πâ‡∏≤‡∏ô | ‡∏ï‡πà‡∏≥ | ‡πÑ‡∏î‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö |
| 6 | ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô Sensor | ‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ï‡πà | ‡∏ï‡πâ‡∏≠‡∏á research |

### 5. ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ Pi + Local API ‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
- Pi ‡πÄ‡∏õ‡πá‡∏ô Access Point ‚Üí Sensor ‡∏ï‡πà‡∏≠ WiFi ‡∏Ç‡∏≠‡∏á Pi
- Pi ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• offline ‡∏ï‡∏•‡∏≠‡∏î‡∏ß‡∏±‡∏ô
- ‡∏ï‡∏≠‡∏ô‡πÄ‡∏¢‡πá‡∏ô ‡∏≠‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡πÄ‡∏õ‡∏¥‡∏î Hotspot ‚Üí Pi sync ‡∏Ç‡∏∂‡πâ‡∏ô Supabase
- ‡πÉ‡∏ä‡πâ Local API (tinytuya) ‚Üí ‡πÑ‡∏°‡πà‡∏°‡∏µ API limit
- ‡∏á‡∏ö: ~1,000 ‡∏ö‡∏≤‡∏ó/‡∏ö‡πâ‡∏≤‡∏ô (Pi Zero 2 W + SD + Adapter)

---

## Pending

- [ ] DewS ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏ó‡∏≤‡∏á‡πÑ‡∏´‡∏ô
- [ ] ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Local API ‡∏à‡∏£‡∏¥‡∏á (‡πÉ‡∏ä‡πâ Cloud API ‡∏≠‡∏¢‡∏π‡πà)
- [ ] Sensor calibration ‡∏¢‡∏±‡∏á‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ (Temp, Humidity ‡πÄ‡∏û‡∏µ‡πâ‡∏¢‡∏ô)

---

## Next Session

1. **‡∏ñ‡πâ‡∏≤‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÉ‡∏ä‡πâ Pi:**
   - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Local API ‡∏î‡πâ‡∏ß‡∏¢ tinytuya
   - ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô prototype script ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Pi
   - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö AP mode ‡∏ö‡∏ô Pi

2. **‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö ‡∏≠.‡πÅ‡∏Å‡πâ‡∏ß:**
   - ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å session ‡∏ô‡∏µ‡πâ ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
   - ‡∏ñ‡∏≤‡∏°‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏á‡∏ö ‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏≠‡∏≤‡∏™‡∏≤

3. **‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á Frontend:**
   - ‡πÑ‡∏ü‡∏•‡πå‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà `lab/tuya-ecostove/ecostove-with-sensor.html`
   - ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ commit

---

## Key Files

### ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà commit)
- [auto_sync_1hour.js](lab/tuya-ecostove/auto_sync_1hour.js) - Auto-sync script

### ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
- [check_supabase.js](lab/tuya-ecostove/check_supabase.js) - ‡πÅ‡∏Å‡πâ Supabase URL

### ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
- [fetch_air_quality.js](lab/tuya-ecostove/fetch_air_quality.js) - ‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å Tuya
- [sync_to_supabase.js](lab/tuya-ecostove/sync_to_supabase.js) - Sync ‡πÑ‡∏õ Supabase
- [decision-summary-for-ajarn.md](lab/tuya-ecostove/docs/decision-summary-for-ajarn.md) - ‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ‡∏≠.‡πÅ‡∏Å‡πâ‡∏ß

---

## Credentials (‡∏°‡∏µ‡πÅ‡∏•‡πâ‡∏ß)

```
Tuya:
  Access ID:  7dudg9tg3cwvrf8dx9na
  Device ID:  a3b9c2e4bdfe69ad7ekytn
  Local Key:  UGPc7`5(&x$hr<um
  Region:     sg

Supabase:
  URL: https://zijybzjstjlqvhmckgor.supabase.co
```

---

## ‡∏™‡∏£‡∏∏‡∏õ Session

DewS ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÅ‡∏•‡πâ‡∏ß ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞ **Pi + Local API** ‡∏ã‡∏∂‡πà‡∏á‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏á‡∏ö ~200K

Auto-sync ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÑ‡∏î‡πâ 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô Supabase ‡πÅ‡∏•‡πâ‡∏ß 14 records

---

*WEnDyS üíß*
